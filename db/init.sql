create table partner
(
    id     integer generated by default as identity
        constraint partner_pk
            primary key,
    name   varchar,
    radius integer not null,
    rating real default 0
);

alter table partner
    owner to test;

create table materials
(
    id   integer generated by default as identity
        constraint materials_pk
            unique,
    name varchar
);

alter table materials
    owner to test;

create table address
(
    id        integer generated by default as identity
        constraint address_pk
            primary key,
    longitude numeric,
    lattitude numeric
);

alter table address
    owner to test;

create table partner_address
(
    id        integer generated by default as identity
        constraint partner_address_pk
            primary key,
    partnerid integer
        constraint partner_address_partner_null_fk
            references partner,
    addressid integer
        constraint partner_address_adress_null_fk
            references address
);

alter table partner_address
    owner to test;

create table partner_materials
(
    id         integer generated by default as identity
        constraint partner_materials_pk
            primary key,
    partnerid  integer
        constraint partner_materials_partner_null_fk
            references partner,
    materialid integer
        constraint partner_materials_materials_null_fk
            references materials (id)
);

alter table partner_materials
    owner to test;

INSERT INTO partner (id, name, radius, rating)
    overriding system value
VALUES (1, 'Ikea', 50, 5),
       (2, 'Home24', 30, 4),
       (3, 'Wayfair', 45, 4.5),
       (4, 'Floors GmBH', 25, 3),
       (5, 'Tiles and more', 25, 5),
       (6, 'Home24', 35, 5);

INSERT INTO materials (id, name)
    overriding system value
VALUES (1, 'wood'),
       (2, 'carpet'),
       (3, 'tiles');

INSERT INTO address (id, longitude, lattitude)
    overriding system value
VALUES (2, 13.4, 52.382),
       (3, 13.43, 52.5),
       (4, 13.15, 52),
       (5, 10.5, 52.6),
       (1, 13.08, 52.402),
       (6, 13.41, 52.4),
       (7, 13.431, 52.516);


INSERT INTO partner_address (id, partnerid, addressid)
    overriding system value
VALUES (6, 1, 1),
       (7, 2, 2),
       (8, 3, 3),
       (9, 4, 4),
       (10, 1, 5),
       (1, 5, 6),
       (2, 6, 7);

INSERT INTO partner_materials (id, partnerid, materialid)
    overriding system value
VALUES (1, 1, 1),
       (2, 2, 2),
       (3, 3, 3),
       (4, 4, 1),
       (5, 2, 3),
       (6, 3, 1),
       (7, 2, 1),
       (8, 1, 2),
       (9, 5, 1),
       (10, 5, 2),
       (11, 6, 3),
       (12, 6, 1),
       (13, 6, 2);



